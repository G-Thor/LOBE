{% extends "__base.jinja" %}
{% block body %}
    <div class='row mb-3'>
        <div class='col-12'>
            <h1 class='font-weight-bold'>Notendur</h1>
            <p>Fjöldi : {{users.total}}</p>
            {% if current_user.is_admin() %}
                <a href='{{url_for("user_create")}}' class='btn btn-success float-right'>
                    {{macros.btn_icon('plus', 'r')}}
                    Búa til
                </a>
            {% endif %}
        </div>
    </div>
    <div class='row'>
        <div class='col-12'>
            <div class='table-responsive'>
                <table class='table'>
                    <thead>
                        <th>
                            Nafn
                            {{macros.sort_th_a('name')}}
                        </th>
                        <th>
                            Tölvupóstur
                            {{macros.sort_th_a('email')}}
                        </th>
                        <th>
                            Kyn
                            {{macros.sort_th_a('sex')}}
                        </th>
                        <th>
                            Aldur
                            {{macros.sort_th_a('age')}}
                        </th>
                        <th>
                            Mállýska
                            {{macros.sort_th_a('dialect')}}
                        </th>
                        <th>
                            Staða
                        </th>
                    </thead>
                    <tbody>
                        {% for user in users.items %}
                            <tr>
                                <td><a href={{user.get_url()}}>{{user.get_printable_name()}}</a></td>
                                <td>{{user.email}}</td>
                                <td>{{user.sex | default("Ekki tilgreint", true)}}</td>
                                <td>{{user.age | default("Ekki tilgreint", true)}}</td>
                                <td>{{user.dialect | default("Ekki tilgreint", true)}}</td>
                                <td>{% for role in user.roles %}{{role.name}}{% endfor %}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class='row'>
        <div class='col-12'>
            {{macros.pagination(users, url_for('user_list'))}}
        </div>
    </div>
{% endblock %}
